<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Neverending - the shooter</title>
    <link rel="stylesheet" href="./style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore Neverending - the shooter game. Learn about its advanced AI, graphics, and gameplay features. Discover why Neverending stands out in the world of online shooters. Get it today on Epic Games and experience endless excitement for free!">
</head>

<body>
    <div class="page">
        <header class="hero panel">
            <div class="hero-top">
                <div class="hero-copy">
                    <p class="eyebrow">Neverending</p>
                    <h1>Neverending - the shooter</h1>
                    <p class="lead">An online shooter built for endless rounds, smart matchmaking, and cinematic detail.</p>
                    <div class="hero-links">
                        <a class="pill" href="#game">The Game</a>
                        <a class="pill" href="#gameplay">Gameplay</a>
                        <a class="pill" href="#why">Why Neverending?</a>
                    </div>
                </div>
                <div class="hero-actions">
                    <a class="button primary" href="https://store.epicgames.com/en-US/p/neverending">Epic Games - get it today</a>
                    <a class="button ghost" href="support/index.html">Support</a>
                    <a class="button ghost" href="changelog/index.html">Changelog</a>
                </div>
            </div>
            <div class="feature-grid">
                <article class="feature-card" style="--delay: 0s;">
                    <h3>The Game</h3>
                    <p>Take a look at the graphics, matchmaking, and fundamental features of Neverending.</p>
                    <a class="text-link" href="#game">Read More</a>
                </article>
                <article class="feature-card" style="--delay: 0.12s;">
                    <h3>The Gameplay</h3>
                    <p>See what it's like to play Neverending and why you'll love it.</p>
                    <a class="text-link" href="#gameplay">Read More</a>
                </article>
                <article class="feature-card" style="--delay: 0.24s;">
                    <h3>Why Neverending?</h3>
                    <p>What makes Neverending so special and why is it different from other popular shooters?</p>
                    <a class="text-link" href="#why">Read More</a>
                </article>
            </div>
        </header>

        <section id="game" class="section panel">
            <div class="section-head">
                <p class="eyebrow">Core systems</p>
                <h2>The Game</h2>
                <p class="lead">Precision matchmaking, cinematic rendering, and always-on progression.</p>
            </div>
            <div class="section-body">
                <figure class="media-frame">
                    <img src="media/game.png" alt="Gameplay scene from Neverending" loading="lazy">
                </figure>
                <div class="card-grid">
                    <article class="glass-card">
                        <p>Thanks to advanced AI systems, Neverending can automatically detect how good you are and whether someone is cheating. So you only get into lobbies that are tailored for you.</p>
                    </article>
                    <article class="glass-card">
                        <p>Neverending utilizes cutting-edge technologies to deliver an immersive gaming experience. One of the standout features is raytracing, which enhances graphics realism, especially when it comes to lifelike reflections.</p>
                    </article>
                    <article class="glass-card">
                        <p>With cross-platform game support and cloud storage, you can play anywhere on all your devices.</p>
                    </article>
                    <article class="glass-card">
                        <p>With the offline game mode, you can also play against bots. Thanks to the latest AI technologies, you won't feel any difference.</p>
                    </article>
                </div>
            </div>
        </section>

        <section id="gameplay" class="section panel">
            <div class="section-head">
                <p class="eyebrow">In the arena</p>
                <h2>Gameplay</h2>
                <p class="lead">Responsive controls, reliable servers, and a rhythm that feels instantly familiar.</p>
            </div>
            <div class="section-body reverse">
                <figure class="media-frame">
                    <video class="stream-video" autoplay loop muted playsinline preload="none" data-hls="media/vid1/stream.m3u8" data-fallback="media/vid1.mp4" data-start="0"></video>
                </figure>
                <div class="card-grid">
                    <article class="glass-card">
                        <p>In Neverending, we take pride in our commitment to providing reliable servers. Our top-notch infrastructure ensures smooth gameplay experiences, minimal downtime, and a lag-free environment, allowing you to fully immerse yourself in the action without interruption.</p>
                    </article>
                    <article class="glass-card">
                        <p>You will recognize the controls and gameplay like in your other classics. So start straight away without lengthy tutorials.</p>
                    </article>
                    <article class="glass-card">
                        <p>Neverending is similar to other common shooters, but we have improved everything that players don't like.</p>
                    </article>
                </div>
            </div>
        </section>

        <section id="why" class="section panel">
            <div class="section-head">
                <p class="eyebrow">Why it lasts</p>
                <h2>Why Neverending?</h2>
                <p class="lead">Free to play, community steered, and always updating in the background.</p>
            </div>
            <div class="section-body">
                <figure class="media-frame">
                    <video class="stream-video" autoplay loop muted playsinline preload="none" data-hls="media/vid2/stream.m3u8" data-fallback="media/vid2.mp4" data-start="0"></video>
                </figure>
                <div class="card-grid">
                    <article class="glass-card">
                        <p>Enjoy endless excitement in Neverending for free! Dive into boundless entertainment without the worry of buying a game you might not adore. Discover the joy of limitless gaming!</p>
                    </article>
                    <article class="glass-card">
                        <p>In Neverending, we emphatically reject pay-to-win mechanics, prioritizing fair play as one of our core principles.</p>
                    </article>
                    <article class="glass-card">
                        <p>The community is an integral part of the game to ensure it never gets boring. This allows for quicker balancing compared to traditional games.</p>
                    </article>
                    <article class="glass-card">
                        <p>Neverending downloads updates and smaller patches as you play for uninterrupted fun, so you can also play quick 5-minute rounds.</p>
                    </article>
                </div>
            </div>
        </section>

        <footer class="footer panel">
            <div class="footer-inner">
                <div class="footer-brand">
                    <p class="footer-eyebrow">Neverending</p>
                    <h2 class="footer-title">Stay in the loop</h2>
                    <p class="footer-text">Support, changelogs, and legal details in one place. We keep the updates tight and the links fast.</p>
                    <div class="footer-actions">
                        <a class="footer-link" href="https://store.epicgames.com/en-US/p/neverending">Epic Games</a>
                        <a class="footer-link" href="support/index.html">Support</a>
                        <a class="footer-link" href="changelog/index.html">Changelog</a>
                        <a class="footer-link" href="legal/index.html">Legal</a>
                    </div>
                </div>
                <div class="footer-media">
                    <p class="footer-label">Powered by</p>
                    <div class="footer-logos">
                        <img src="media/rtx.png" alt="NVIDIA RTX logo">
                        <img src="media/UE5.png" alt="Unreal Engine 5 logo">
                        <img src="media/epic.png" alt="Epic Games logo">
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script src="scripts/hls.min.js"></script>
    <script>
        const prefersReducedMotion = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        let activeScroll = null;
        let cancelBound = false;

        const cancelScroll = () => {
            if (activeScroll) {
                cancelAnimationFrame(activeScroll);
                activeScroll = null;
            }
        };

        const bindCancelEvents = () => {
            if (cancelBound) return;
            cancelBound = true;
            ["wheel", "touchstart", "mousedown", "keydown"].forEach((eventName) => {
                window.addEventListener(eventName, cancelScroll, { passive: true });
            });
        };

        document.querySelectorAll('a[href^="#"]').forEach((link) => {
            const targetId = link.getAttribute("href");
            if (!targetId || targetId.length < 2) return;
            const targetSection = document.querySelector(targetId);
            if (!targetSection) return;

            link.addEventListener("click", (event) => {
                event.preventDefault();
                history.pushState(null, "", targetId);
                if (prefersReducedMotion) {
                    targetSection.scrollIntoView({ behavior: "auto", block: "start" });
                    return;
                }

                const start = window.scrollY;
                const end = targetSection.getBoundingClientRect().top + start;
                const distance = end - start;
                if (Math.abs(distance) < 6) return;

                bindCancelEvents();
                cancelScroll();

                const duration = Math.min(900, Math.max(260, Math.sqrt(Math.abs(distance)) * 18));
                const startTime = performance.now();

                const easeInOutExpo = (t) => {
                    if (t === 0 || t === 1) return t;
                    return t < 0.5
                        ? Math.pow(2, 20 * t - 10) / 2
                        : (2 - Math.pow(2, -20 * t + 10)) / 2;
                };

                const step = (now) => {
                    const elapsed = now - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    const eased = easeInOutExpo(progress);
                    window.scrollTo(0, Math.round(start + distance * eased));
                    if (progress < 1) {
                        activeScroll = window.requestAnimationFrame(step);
                    } else {
                        activeScroll = null;
                    }
                };

                activeScroll = window.requestAnimationFrame(step);
            });
        });

        const streamVideos = Array.from(document.querySelectorAll(".stream-video"));

        const loadStreamVideo = (video) => {
            if (video.dataset.loaded === "true") return;
            video.dataset.loaded = "true";

            const hlsSrc = video.dataset.hls;
            const fallbackSrc = video.dataset.fallback;
            const startAt = Number(video.dataset.start);
            const startTime = Number.isFinite(startAt) ? Math.max(0, startAt) : 0;

            const setStartTime = () => {
                const duration = video.duration || 0;
                const safeStart = duration ? Math.min(startTime, Math.max(0, duration - 0.1)) : startTime;
                video.currentTime = safeStart;
            };

            const requestPlay = () => {
                if (!video.autoplay) return;
                video.play().catch(() => {});
            };

            if (video.canPlayType("application/vnd.apple.mpegurl")) {
                video.src = hlsSrc;
                video.addEventListener("loadedmetadata", setStartTime, { once: true });
            } else if (window.Hls) {
                const hls = new Hls({
                    startPosition: startTime,
                    maxBufferLength: 10,
                    backBufferLength: 8,
                    maxBufferSize: 8 * 1024 * 1024,
                    maxBufferHole: 0.4
                });
                hls.loadSource(hlsSrc);
                hls.attachMedia(video);
                video._hls = hls;
                video.addEventListener("loadedmetadata", setStartTime, { once: true });
            } else if (fallbackSrc) {
                video.src = fallbackSrc;
                video.addEventListener("loadedmetadata", setStartTime, { once: true });
            }

            video.addEventListener("ended", () => {
                if (!video.loop) return;
                video.currentTime = 0;
                requestPlay();
            });

            video.addEventListener("canplay", requestPlay, { once: true });
        };

        if ("IntersectionObserver" in window) {
            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach((entry) => {
                        if (!entry.isIntersecting) return;
                        loadStreamVideo(entry.target);
                        observer.unobserve(entry.target);
                    });
                },
                { rootMargin: "200px 0px", threshold: 0.1 }
            );

            streamVideos.forEach((video) => observer.observe(video));
        } else {
            streamVideos.forEach((video) => loadStreamVideo(video));
        }
    </script>
</body>

</html>
